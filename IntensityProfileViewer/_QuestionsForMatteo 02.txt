//
// _QuestionsForMatteo 02
//

WinUI question ...
  We use TCP/IP and UDP for network comms, and it'll be useful to be able
  to run a Server and a Client on the same machine, for development and testing.
  With WinUI, this 'loopback' comms is permitted provided you make an appropriate
  declaration in the Package Manifest, but the docs say that UDP isn't supported.
  Would that apply even while debugging in Visual Studio ?
  Workaround would be to run Server and Client on different PC's ?
  ACTUALLY THIS IS OK - HAVE NOW SUCCESSFULLY GOT TCP/UDP COMMS WORKING
  BETWEEN A WINUI CLIENT APP AND A WINUI SERVER APP. DESPITE THE DOCS SAYING
  THAT UDP IS NOT SUPPORTED !!!
  IN WINUI, IS THE SYSTEM TAKING NOTICE OF THE PERMISSIONS DECLARED IN THE MANIFEST ??
  MY COMMS EXPERIMENT WORKS EVEN WHEN I REMOVE THE NETWORKING PERMISSIONS ...

=================

Events to Commands, in XAML, with Community Toolkit ?
Does it work in Uno ?
- yes, available for WinUI

Not Uno-related, but ...
  What's the cleanest way to call a Javascript function from C# ?
  Microsoft.JSInterop.JSRuntime ... from ASP.Net.Core 5.0
  Can call from a Blazor app, of course ...
  But from a WinUI app ? 
  In order to use a graphical layout package called 'Dagre'.
  And can JSRuntime invoke a WebAssembly module ?
  --- Use WebView2 control ...

By the way, nice post about the WVVM Toolkit, from the XamlBrewer people ...
https://xamlbrewer.wordpress.com/2020/11/16/a-lap-around-the-microsoft-mvvm-toolkit/

In VS2019 16.10 preview 1, the project template for WPF .Net Core is missing. 
Instead, you're invited to configure a project using Windows Template Studio,
and this (even if you go for the simplest options) creates a much more complicated project
that uses Mahapps Metro, a Shell, and all sorts of unwanted stuff. The target platform 
is netcoreapp3.1, and if you change that to net5.0 all sorts of package errors appear.
Luckily this is only in the Preview - please let's hope this disaster doesn't make it
into the next non-preview version.

Also - the dialog for choosing a project template is really awful, the categories make no sense.

In the Preview, the process for building a WinUI app seems broken ? Have to manually build the App project,
and then manually 'run' the Package project.

*** Is there any reason to be using 16.10 preview ? Better to work with 16.9 ??

Another WinUI question : the Window class doesn't have a 'Loaded' event, which would be 
a useful place to put code that should be executed once only (??). Activated gets invoked
at least twice, even in a very simple test app. Is there some other lifecycle event (eg in the App class?)
thay we can hook into to initialise things ? Not advisable to do initialisation in the constructor
of the main window, because one shouldn't call async methods in a constructor ...

MVVM Toolkit - useful to set breakpoints when a 'SetProperty' publishes a change ; can do this if we include the source code as part of the solution, is there a way to single-step into the Nuget package ?
Aha, 'SourceLink' ...
https://docs.microsoft.com/en-us/dotnet/standard/library-guidance/sourcelink
https://aaronstannard.com/visual-studio-sourcelink-setup/
HMM, HAVE DONE ALL THIS BUT STILL CAN'T SINGLE STEP INTO MVVM TOOLKIT METHODS ???

===================

VS2019 preview - best avoided ??
C++/WinRT project template issues !!!
Also WPF project template, see above

Rebuild in VS 2019 non-preview, weird errors that went away after
deleting .vs and obj and bin files, and a reboot.

===================

Books on WinUI-3 ???

=============================

Where we specify in XAML, Width="Auto", for a FrameworkElement ; this is of type 'double',
presumably this results in a 'NaN' value ?

